<div data-ng-controller="TripsController" data-ng-init="findOne()">
  <div id="sidebar-left" class="col-xs-12 col-sm-2">
    <p ng-hide="trip.markers.length"></p>
    <ul class="nav main-menu" ui-sortable="sortableOptions" ng-model="trip.markers">
      <li class="sidebar-menu-item" ng-repeat="marker in trip.markers">
          <a ng-click="centerMap(trip.markers[$index])">
              <span>{{marker.place_name}}</span>
              <span ng-click="closestPOI(trip.markers[$index])" class="markerclosePOI">POI</span>
              <span ng-click="deleteMarker($index)" ng-class="{disabled: isLoading}" class="markerdelete glyphicon glyphicon-remove"></span>
          </a>
      </li>
    </ul>
  </div>

  <div id="content" class="col-xs-12 col-sm-10">

      <div class="preloader" style="display: none;">
          <img src="img/devoops_getdata.gif" class="devoops-getdata" alt="preloader">
      </div>
      <div id="ajax-content">
          <div class="row">
              <div id="breadcrumb" class="col-xs-12" style="margin-bottom: 0px;">
                  <ol class="breadcrumb pull-left">
                      <li><a class="editable" ng-class="{disabled: isLoading}" onaftersave="trip.$update()" editable-text="trip.name" tooltip="Click to change name" tooltip-placement="right">{{trip.name}}</a></li>
                  </ol>
                  <div id="social" class="pull-right privacyToggle" ng-switch on="trip.privacy" ng-click="togglePrivacy()" ng-class="{disabled: isLoading}" tooltip="Click to change Privacy" tooltip-placement="left">
                      <a ng-switch-when="1">Public Trip</a>
                      <a ng-switch-when="0">Private Trip</a>

                      <a href="#"><i class="fa fa-google-plus"></i></a>
                      <a href="#"><i class="fa fa-facebook"></i></a>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="col-xs-12" style="padding-left: 0px; padding-right: 0px;">
                  <div class="box">
                      <ui-gmap-google-map center="map.center" zoom="map.zoom" events="map.events" control="map.object">
                          <ui-gmap-search-box template="searchbox.template" position="searchbox.position" events="searchbox.events"/>
                          <ui-gmap-markers models="trip.markers" idkey="'place_id'" coords="'location'" events="markers.events" />
                      </ui-gmap-google-map>
                  </div>
              </div>
          </div>

          <div class="page-header">

              <div class="member_options">
                  <p class="trip_owner">Owned by {{trip.user.displayName}}</p>
                  <ul class="trip_members">
                      <li ng-repeat="member in trip.members">{{member.user.displayName}}</li>
                  </ul>
                  <a href ng-click="AddMate()">
                      <span>Add a tripmate</span>
                  </a>
              </div>
          </div>
          <script type="text/ng-template" id="searchbox.tpl.html">
              <div class="form-group">
                  <input class="form-control searchbox" type="text" placeholder="Search Box">
              </div>
          </script>
          <div>
            <div class="pull-left">
              <a class="btn btn-primary" data-ng-click="returnToTripView()" tooltip="Back to Trip View">
                <i class="glyphicon glyphicon-arrow-left"></i>
              </a>
            </div>
            <p style="text-align:right;margin-top:5px;font-size:24px;">
              <a href ng-click="resetMap()" tooltip="Reset Map" tooltip-placement="left">
                  <span class="glyphicon glyphicon-repeat"></span>
              </a>
            </p>
          </div>
      </div>
  </div>
</div>
